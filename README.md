# Freelance Analytics CLI

Аналитический CLI-прототип для анализа данных о фрилансерах с поддержкой LLM (GigaChat, Groq, OpenAI и др.).

## Возможности

- Анализ доходов, регионов, опыта, платформ, категорий и др.
- Естественно-языковые запросы через LLM (LangChain agent)
- Быстрая аналитика по CSV
- Расширяемый DataAnalyzer с множеством метрик
- Поддержка batch-аналитики
- CLI-режим, логирование
- Полная контейнеризация (Docker, docker-compose)
- Покрытие тестами (pytest)

## Требования

- Python 3.11+
- Poetry (или pip)
- Docker (опционально)

## Установка (локально)

```bash
git clone https://github.com/powermacintosh/freelance-analytics-cli.git
cd freelance-analytics-cli
poetry install
# или
pip install -r requirements.txt
```

## Environment variables (.env)

- Создайте файл `.env` в корне проекта и укажите:
  GROQ_API_KEY = ...your_groq_api_key
  GIGACHAT_API_KEY = ...your_gigachat_api_key

## Запуск (локально)

```bash
python main.py
```

## Запуск через Docker

```bash
docker build -t freelance-analytics-cli .

docker run --rm -it -e GROQ_API_KEY=sk-...твой_ключ... -v $(pwd)/data:/app/data freelance-analytics-cli
```

## Запуск через docker-compose

```bash
docker-compose run --rm freelance-analytics-cli
docker-compose run --rm test
```

## Примеры CLI-запросов

- Покажи топ-5 регионов по экспертам
- Сравни доход по крипте и обычным способом
- Среднее время выполнения по категориям и регионам
- Сделай сводку по всем доступным метрикам

- Насколько выше доход у фрилансеров, принимающих оплату в криптовалюте, по сравнению с другими способами оплаты?
- Как распределяется доход фрилансеров в зависимости от региона проживания?
- Какой процент фрилансеров, считающих себя экспертами, выполнил менее 100 проектов?
- Средний доход по категориям работ
- Средний доход по уровню опыта
- Топ-5 регионов по количеству экспертов
- Процент фрилансеров с повторным наймом выше 50%
- Среднее время выполнения работ по всем фрилансерам (или по категориям, регионам, опыту, платформам, типу проекта)
- Средний доход по платформам
- Средний доход по типу проекта

- Насколько выше доход у фрилансеров, принимающих оплату в криптовалюте
- Как распределяется доход фрилансеров в зависимости от региона
- Какая средняя длительность выполнения работ по регионам
- Обобщи по регионам
- А можешь обобщенно вывести среднее время выполнения проектов по регионам, среднее время выполнения работ по платформам и по типам проектов ?
- Сделай сводку, что еще можешь сказать по средней длительности
- А по категориям и по опыту есть данные
- Покажи данные по всем доступным инструментам

- Есть Анализ доходов, регионов, опыта, платформ, категорий и др.

- Покажи среднюю почасовую ставку по типу проекта
- Дай сводный отчет по среднему рейтингу завершенных проектов
- Сделай сводный отчет по рейтингу клиента
- Сделай сводный отчет по маркетинговым расходам

## Тесты

```bash
pytest
```

## Структура проекта

- `main.py` — CLI-интерфейс, интеграция с LLM
- `core/data_analyzer.py` — аналитика по CSV
- `core/config.py` — конфиг через pydantic
- `tests/` — unit- и edge-тесты (pytest)
- `Dockerfile`, `.dockerignore`, `docker-compose.yml` — контейнеризация

## Документация

- [Отчёт по архитектуре и тестам](REPORT.md)
- [GigaChat регистрация](https://developers.sber.ru/studio/registration)
- [Groq регистрация](https://console.groq.com/keys)
